# MLX Whisper - –ë—ã—Å—Ç—Ä–∞—è –≥–æ–ª–æ—Å–æ–≤–∞—è –¥–∏–∫—Ç–æ–≤–∫–∞ –¥–ª—è macOS

**–í–µ—Ä—Å–∏—è:** 1.0 (–°—Ç–∞–±–∏–ª—å–Ω–∞—è)
**Commit SHA:** `4559ad66d68331feea63aa07b40c488445adb7ec`

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ —Ä–µ—á–∏ –≤ —Ç–µ–∫—Å—Ç –Ω–∞ macOS —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º MLX –∏ Whisper. –†–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ Apple Silicon –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±–ª–∞–∫–æ.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é 1.0
git clone https://github.com/maxim-malikov/huyulie.git ~/mlxwhisper
cd ~/mlxwhisper
git checkout 4559ad66d68331feea63aa07b40c488445adb7ec
./install.sh
```

## –ß—Ç–æ —ç—Ç–æ?

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ:
- **‚åÉ Ctrl + ‚å• Option + W** ‚Äî –Ω–∞—á–∞—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≥–æ–ª–æ—Å–∞ ‚Üí —Ç–µ–∫—Å—Ç —Å—Ä–∞–∑—É –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
- **‚åò Cmd + ‚áß Shift + D** ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å –æ–¥–Ω—É —Ñ—Ä–∞–∑—É ‚Üí –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
- **‚åò Cmd + ‚áß Shift + C** ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ—Ä–∞–∑

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ–≥–æ
git clone https://github.com/maxim-malikov/huyulie.git ~/mlxwhisper && cd ~/mlxwhisper && ./install.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –°–∫–∞—á–∞–µ—Ç –º–æ–¥–µ–ª—å Whisper
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç Hammerspoon
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ **Ctrl+Option+W** –∏ –Ω–∞—á–Ω–∏—Ç–µ –≥–æ–≤–æ—Ä–∏—Ç—å!

## –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** macOS —Å Apple Silicon (M1/M2/M3), Python 3.9+

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
cd ~
git clone https://github.com/maxim-malikov/huyulie.git mlxwhisper
cd mlxwhisper

# –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
python3 -m venv .venv
source .venv/bin/activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º MLX Whisper –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install mlx-whisper sounddevice numpy

# –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x mlxw mlxw-toggle

# –°–∫–∞—á–∏–≤–∞–µ–º –º–æ–¥–µ–ª—å Whisper (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
python -c "import mlx_whisper; mlx_whisper.load_model('mlx-community/whisper-large-v3-turbo')"
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Hammerspoon (–¥–ª—è –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à)

```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Hammerspoon —á–µ—Ä–µ–∑ Homebrew
brew install --cask hammerspoon

# –ó–∞–ø—É—Å–∫–∞–µ–º Hammerspoon
open -a Hammerspoon

# –†–∞–∑—Ä–µ—à–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ Accessibility –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö macOS (–ø–æ—è–≤–∏—Ç—Å—è –∑–∞–ø—Ä–æ—Å)
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SoX (–¥–ª—è –∑–≤—É–∫–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤)

```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º SoX –¥–ª—è –∑–≤—É–∫–æ–≤ –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞ –∑–∞–ø–∏—Å–∏
brew install sox
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

```bash
# –ö–æ–ø–∏—Ä—É–µ–º –≥–æ—Ç–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ Hammerspoon
cp ~/mlxwhisper/hammerspoon/init.lua ~/.hammerspoon/init.lua

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º Hammerspoon –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
open -g hammerspoon://reload
```

## –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –Ω–∞–∂–º–∏—Ç–µ:

**‚åÉ Ctrl + ‚å• Option + W** ‚Äî –Ω–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å (–≥–æ–≤–æ—Ä–∏—Ç–µ)
**‚åÉ Ctrl + ‚å• Option + W** ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å ‚Üí —Ç–µ–∫—Å—Ç –≤ –±—É—Ñ–µ—Ä–µ –æ–±–º–µ–Ω–∞

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏:
- **‚åò Cmd + ‚áß Shift + D** ‚Äî –±—ã—Å—Ç—Ä–∞—è –¥–∏–∫—Ç–æ–≤–∫–∞ –æ–¥–Ω–æ–π —Ñ—Ä–∞–∑—ã
- **‚åò Cmd + ‚áß Shift + C** ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Ä–µ–∂–∏–º

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

```bash
cd ~/mlxwhisper

# –û–¥–Ω–∞ —Ñ—Ä–∞–∑–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
./mlxw ru

# –û–¥–Ω–∞ —Ñ—Ä–∞–∑–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
./mlxw en

# –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
./mlxw

# –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Ä–µ–∂–∏–º
./mlxw continuous
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏, –æ—Ç–∫—Ä–æ–π—Ç–µ `~/.hammerspoon/init.lua` –∏ –Ω–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞:

```lua
local HOTKEYS = {
    -- Toggle-—Ä–µ–∂–∏–º (–≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏)
    toggleDictation = {
        modifiers = {"ctrl", "alt"},   -- –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏
        key = "W",                      -- –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ—é –∫–ª–∞–≤–∏—à—É
        lang = "ru"                     -- ru, en –∏–ª–∏ nil –¥–ª—è –∞–≤—Ç–æ–¥–µ—Ç–µ–∫—Ç–∞
    },
    -- ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
}
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã:**
- `"cmd"` ‚Äî ‚åò Command
- `"shift"` ‚Äî ‚áß Shift
- `"alt"` –∏–ª–∏ `"option"` ‚Äî ‚å• Option
- `"ctrl"` ‚Äî ‚åÉ Control

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞–∂–º–∏—Ç–µ **‚åÉ Ctrl + ‚å• Alt + R** –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
open -g hammerspoon://reload
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ Hammerspoon –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ó–∞—â–∏—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å ‚Üí –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø**
2. –î–æ–±–∞–≤—å—Ç–µ Hammerspoon –≤ —Å–ø–∏—Å–æ–∫ –∏ –≤–∫–ª—é—á–∏—Ç–µ –≥–∞–ª–æ—á–∫—É
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Hammerspoon

### –ï—Å–ª–∏ –Ω–µ—Ç –∑–≤—É–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É SoX
brew list sox || brew install sox
```

### –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ —Å–∫–∞—á–∞–ª–∞—Å—å

```bash
cd ~/mlxwhisper
source .venv/bin/activate
python -c "import mlx_whisper; mlx_whisper.load_model('mlx-community/whisper-large-v3-turbo')"
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- `rt.py` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –∑–∞–ø–∏—Å–∏ –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- `rt_toggle.py` ‚Äî –º–æ–¥—É–ª—å –¥–ª—è toggle-—Ä–µ–∂–∏–º–∞
- `mlxw` ‚Äî –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- `mlxw-toggle` ‚Äî –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è toggle-—Ä–µ–∂–∏–º–∞
- `hammerspoon/init.lua` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md).

## –í–µ—Ä—Å–∏–∏

### v1.0 (–¢–µ–∫—É—â–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
- –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–∏–∫—Ç–æ–≤–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ `install.sh`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Hammerspoon
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ BlackHole (–≤ `audio-driver-integration/`)

–î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏:
```bash
git checkout 4559ad66d68331feea63aa07b40c488445adb7ec
# –∏–ª–∏
git checkout v1.0
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT